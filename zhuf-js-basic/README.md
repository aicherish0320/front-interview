# 栈

## 数据结构中的栈

- 栈是一组数据的存储方式，特点是先进后出，后进先出

### 应用场景

- 代码的运行方，js 调用堆栈

### 内存区域

- 栈也是存放数据的一种内存区域
- 程序运行的时候，需要内存空间存放数据，一般来说，系统会划分两种不同的内存空间，一种叫做 stack，另一种叫做 heap
  - stack 是有结构的，每个区块按照一定次序存放，可以明确知道每个区块的大小
  - heap 是没有结构的，数据可以任意存放，因此，stack 的寻址速度要快于 heap
- 只要是局部的、占用空间确定的数据，一般都存放在 stack 里面，否则就放在 head 里面，所有的对象都存放在 heap

# 队列

- 队列是一种操作受限制的线性表
- 特殊之处在于它只允许在表的前端进行删除操作，在表的后端进行插入
- 进行插入的操作的端称之为队尾，进行删除操作的端称为队头
- 因为队列只允许在一端插入，在另一端删除，所以只有最早进入队列的元素才能最先从队列删除，故队列又称为先进先出线性表

# 执行上下文

- 如何存储
  - 当函数运行时，会创建一个执行环境，这个执行环境就叫执行上下文(Execution Context)
  - 执行上下文中会创建一个对象叫作变量对象，基础数据类型都保存在变量对象中
  - 引用数据类型的值会保存在堆里，我们通过操作对象的引用地址来操作对象

# 执行上下文栈

- 执行上下文分类
  - JS 代码执行的时候会进入一个执行上下文，可以理解为当前代码的运行环境
  - 在 JS 中运行环境主要分为全局执行上下文环境和函数执行上下文环境
    - 全局执行上下文只有一个，在客户端一般由浏览器创建，也就是我们熟知的 window 对象，我们能通过 this 直接访问它
    - window 对象还是 var 声明的全局变量的载体，我们通过 var 创建的全局对象，都可以通过 window 直接访问
- 多个执行上下文
  - 在 JS 执行过程会产生多个执行上下文，JS 引擎会用栈来管理这些执行上下文
  - 执行上下文栈也叫调用栈，
  - 栈低永远是全局上下文，栈顶为当前正在执行的上下文
  - 当开启一个函数执行时会生成一个新的执行上下文并放入调用栈，执行完毕后自动出栈
  - 只有全局上下文的变量对象允许通过 VO 的属性名称来间接访问，在函数上下文中是不能直接访问 VO 对象的
